---
title: MPCC Foil
description: Placeholder for the MPCC idea and why weights are indirect style.
keywords: ["controllers", "mpcc", "foil"]
---


<div className="mt-2 text-base leading-7 text-muted-foreground max-w-2xl">
  MPCC is a strong baseline: predictive, constraint-aware, and common in racing/control literature.
  But it’s not great for teaching “style as a knob” because style is mostly hidden in weights and constraints.
</div>

<Separator className="my-10" />

## The MPCC idea (high level)

Over a horizon, choose inputs to:
- reduce lateral and along-track error
- make progress
- respect constraints
- keep inputs smooth

A teaching surrogate objective:

$$
\min \sum_{k=0}^{N-1}\Big(
w_c e_{\perp,k}^2 + w_\ell e_{\parallel,k}^2
+ w_u\|\mathbf{u}_k\|^2 + w_r\|\Delta\mathbf{u}_k\|^2
- w_p\,\Delta s_k
\Big)
$$

where $\mathbf{u}_k = [\delta_k, a_{x,k}]$.

<div className="my-6 rounded-2xl border bg-muted/20 p-6 text-sm text-muted-foreground">
  [DIAGRAM PLACEHOLDER] Tangent/normal frame and rolling horizon window
</div>

<Separator className="my-10" />

## Constraints (what it “feels” like)

- Dynamics (discretized plant)
- Actuator bounds and rates
- Friction limit:

$$
(a_x)^2 + (v^2\kappa)^2 \le (\mu g)^2
$$

<div className="my-6 rounded-2xl border bg-muted/20 p-6 text-sm text-muted-foreground">
  [PANEL PLACEHOLDER] Constraint toggles with “behaviour feel” tooltips
</div>

<Separator className="my-10" />

## Why style is implicit here

In MPCC, “style” comes from coupled weights:
- pushing progress vs hugging path vs smoothing
- plus constraints and horizon length

Changing one weight often changes multiple behaviours at once.

<div className="my-6 rounded-2xl border bg-muted/20 p-6 text-center text-sm text-muted-foreground">
  [INTERACTIVE PLACEHOLDER] Weight presets A/B/C → different behaviour (but non-obvious mapping)
</div>

<Separator className="my-10" />

## How we use MPCC in this course

We use an **MPCC-like ghost** as a benchmark.
The point is contrast:

- MPCC: strong performance, hard-to-explain style
- Style-Param: slightly less optimal, but *predictable* and teachable


